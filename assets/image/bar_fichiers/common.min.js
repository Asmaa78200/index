oCommon={statusTextWith:0,instagram:null,init:function(){$(".toggle-lang").on("click",oCommon.toggleLanguageList);oCommon.analyticsCollectInfo();$(document).on("click",".btn-call, .ft-btn-call",oCommon.analyticsCollectPhone);$('[data-toggle="tooltip"]').tooltip();$(document).on("click",".fixed-menu ul li",oCommon.scrollTo);$(document).on("click",".scroll-down-btn",oCommon.scrollDown);$(document).on("click",".save-email-newsletter",oCommon.saveEmailNewsletter);oCommon.adjustBlackHomeTemplate();$(document).on("scroll",oCommon.scrollToTopBtnVisibility);$(document).on("click","#scrolltotop",oCommon.scrollToTp);oCommon.adjustHeader();$(document).on("click",".btn-hamburger-menu",oCommon.openSideMenu);$(document).on("click",".close-menu",oCommon.closeSideMenu);$(document).on("click",".news-more",oCommon.showNews);oCommon.startHomeAnimations();$(document).on("click",".openning-status",oCommon.toggleDisplayStatus);$(document).on("click",".btn-waitlist",oCommon.showWaitlistModal);var modal='<div class="modal fade" id="shop-waitlist-modal"><div class="content"><div id="close-waitlist-box">X</div><div class="waitlist-loader"><div class="container-loader"><div class="css-loader"></div></div></div></div></div>';$(".fixed-bar").after(modal);$(document).on("click","#close-waitlist-box",oCommon.closeWaitlistModal);$(document).on("click",".offers a, .spontaneous-application a",oCommon.showOfferModal);$(document).on("click",".ujob-close",oCommon.closeOfferModal)},toggleLanguageList:function(){$("ul",this).slideToggle()},analyticsCollectInfo:function(){var type="info";if(window.location.href.indexOf("contact")>0){type="contact"}if(window.location.href.indexOf("booking")>0){type="booking"}$.ajax({url:shop.url+"/minisite/"+type,dataType:"jsonp",jsonpCallback:"callback",success:function(oData){}})},analyticsCollectPhone:function(){$.ajax({url:shop.url+"/minisite/phone",dataType:"jsonp",jsonpCallback:"callback",success:function(oData){}})},scrollTo:function(){$("html, body").animate({scrollTop:$("#"+$(this).attr("data-num")).offset().top-100},500)},scrollToMap:function(){$("html, body").animate({scrollTop:$("#map").offset().top},500)},scrollDown:function(){$("html, body").animate({scrollTop:$(".offset-top").offset().top},500)},saveEmailNewsletter:function(){var email=$("#"+$(this).attr("email-input")).val();if(email==""){swal({title:"Oops !",text:"Merci de bien renseigner votre email !",icon:"warning",button:{text:"OK",className:"swal-button-tpl"}})}else{$.ajax({url:shop.newsletterUrl+"/"+email,dataType:"jsonp",jsonpCallback:"callback",type:"GET",success:function(oData){swal({title:"Bravo !",text:oData.message,icon:"success",button:{text:"OK",className:"swal-button-tpl"}})}})}},adjustHeader:function(){var height=$(window).height()-54;if(height<510){height=510}$("#header").css("height",height+"px")},adjustBlackHomeTemplate:function(){var height=$(window).height();var blockHeight=400;var top=(parseInt(height)-parseInt(blockHeight))/2;$(".black-header-content h1.text-logo, .black-header-content .main-logo").css("margin-top",top+"px")},openSideMenu:function(){$("#sideMenu").css("width","100%")},closeSideMenu:function(){$("#sideMenu").css("width","0")},showNews:function(){if($(this).html()==$(this).attr("show-text")){var el=$(this).parent().children(".dynamique-height"),curHeight=el.height(),autoHeight=el.css("height","auto").height();el.height(curHeight).animate({height:autoHeight},500);$(this).html($(this).attr("hide-text"))}else{$(this).parent().children(".dynamique-height").animate({height:"280px"},500);$(this).html($(this).attr("show-text"))}},startHomeAnimations:function(){$(".openning-status .text-status").css("width","auto");oCommon.statusTextWith=$(".openning-status .text-status").width()+18;$(".openning-status .text-status").css("width","0");setTimeout(function(){$(".openning-status .text-status").animate({width:oCommon.statusTextWith+"px"},500,function(){setTimeout(function(){$(".openning-status .text-status").animate({width:0},500,function(){oCommon.showLastOpinionAnimation()})},3e3)})},2e3)},toggleDisplayStatus:function(){var animateWith=0;if($(".openning-status .text-status").width()==0){animateWith=oCommon.statusTextWith}$(".openning-status .text-status").animate({width:animateWith+"px"},500)},showLastOpinionAnimation:function(){setTimeout(function(){$(".block-info").animate({left:$(".block-info").attr("left")},500,function(){setTimeout(function(){$(".block-info").animate({left:"-600px"},500)},4e3)});$(".last-note").animate({left:0},500,function(){setTimeout(function(){$(".last-note").animate({left:"-600px"},500)},4e3)})},1e3)},loadSocialFeed:function(device){$.ajax({url:"/fr/social-feed",type:"POST",success:function(oData){if(device=="desktop"){oCommon.displaySocialFeedDesktop(oData)}if(device=="mobile"){oCommon.displaySocialFeedMobile(oData)}}})},displaySocialFeedDesktop:function(oData){html="";$.each(oData,function(i,feed){if(parseInt(feed.display_cases)==1){html+='<div class="col-sm-3">'+'<div class="feed-col-1">'+'<a href="'+feed.social_link+'" class="name" target="_blank">@'+feed.name+"</a>"+'<p><a href="'+feed.link+'" target="_blank">'+feed.text+"</a></p>"+'<i class="fa fa-'+feed.social_network+'" aria-hidden="true"></i>'+"</div>"+"</div>"}if(parseInt(feed.display_cases)==2){html+='<div class="col-sm-6">'+'<div class="feed-col-2">'+'<div class="text">'+'<a href="'+feed.social_link+'" class="name" target="_blank">@'+feed.name+"</a>"+'<p><a href="'+feed.link+'" target="_blank">'+feed.text+"</a></p>"+'<i class="fa fa-'+feed.social_network+'" aria-hidden="true"></i>'+"</div>"+'<div class="photo">'+'<a href="'+feed.link+'" style="background-image: url('+feed.photo+')" target="_blank"></a>'+"</div>"+"</div>"+"</div>"}});$("#social-feeds").html(html)},displaySocialFeedMobile:function(oData){html="";$.each(oData,function(i,feed){if(parseInt(feed.display_cases)==1){html+='<div class="feed-col-1">'+'<a href="'+feed.social_link+'" class="name" target="_blank">@'+feed.name+"</a>"+'<p><a href="'+feed.link+'" target="_blank">'+feed.text+"</a></p>"+'<i class="fa fa-'+feed.social_network+'" aria-hidden="true"></i>'+"</div>"}if(parseInt(feed.display_cases)==2){html+='<div class="feed-col-2">'+'<div class="text">'+'<a href="'+feed.social_link+'" class="name" target="_blank">@'+feed.name+"</a>"+'<p><a href="'+feed.link+'" target="_blank">'+feed.text+"</a></p>"+'<i class="fa fa-'+feed.social_network+'" aria-hidden="true"></i>'+"</div>"+'<div class="photo">'+'<a href="'+feed.link+'" target="_blank"><img src="'+feed.photo+'"></a>'+"</div>"+"</div>"}});$("#social-feeds").html(html)},scrollToTopBtnVisibility:function(){if($(window).scrollTop()<350){$("#scrolltotop").addClass("hidden")}else{$("#scrolltotop").removeClass("hidden")}},scrollToTp:function(){$("html, body").animate({scrollTop:0},500)},showWaitlistModal:function(){var waitlistUrl=shop.waitlistUrl;$("#shop-waitlist-modal .content").html('<div id="close-waitlist-box">X</div>'+'<iframe src="'+waitlistUrl+'" name="myFrame" id="myFrame"></iframe>');$("#shop-waitlist-modal").modal("show");return false},closeWaitlistModal:function(){$("#shop-waitlist-modal").modal("hide");return false},showOfferModal:function(e){e.preventDefault();$("#offer-detail-container iframe").attr("src",$(this).attr("href"));$("#offer-detail-container").show();$("body").css("overflow","hidden")},closeOfferModal:function(){$("#offer-detail-container").hide();$("body").css("overflow","auto");$("#offer-detail-container iframe").attr("src","")}};oCommon.init();window.addEventListener("message",function(event){if(event.data.type=="height"){$(".booking-container").css("height",event.data.val+"px");$(".booking-container iframe").css("height",event.data.val+"px")}if(event.data.type=="link"){if(event.data.target=="_blank"){window.open(event.data.val,"_blank")}else{window.location.href=event.data.val}}if(event.data.type=="scrolltop"){$("html, body").animate({scrollTop:200},"slow")}if(event.data.type=="scrollbottom"){var elm=$(".booking-container")[0];elm.scrollIntoView({behavior:"smooth",block:"end"})}});